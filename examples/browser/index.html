<!DOCTYPE html>
<html>

<head>
    <title>SVG Export Demo</title>

    <script src="https://cdn.jsdelivr.net/npm/pdfkit@0.13.0/js/pdfkit.standalone.js"
        integrity="sha256-41qk5dewLKulpzhP3H6G7mY+5q+vzxMaxolsOGmZD/8=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/blob-stream-browserify@0.1.3/index.js"
        integrity="sha256-bFrIR3MiIsKhM2EDZdTJ3eY7iSluq1W7e6dNVwScEYw=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/svg-to-pdfkit@0.1.8/source.js"
        integrity="sha256-NaOoypZxJFnz2e4IeMtA9+UMZ5Fh85ljICcUts98jqY=" crossorigin="anonymous"></script>
    <script src="../../dist/svg-export.min.js"></script>
    <style>
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .buttons {
            margin: 20px 0;
        }

        button {
            margin: 5px;
            padding: 8px 16px;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>SVG Export Demo</h1>

        <svg id="demo-svg" height="400" width="500px" viewBox="0 0 500 400" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <title>g2423</title>
            <desc>Created with Sketch.</desc>
            <defs></defs>
            

            <g class="rects">
                <rect x="300" y="40" width="40" height="40" fill="black" stroke="black"></rect>
                <rect x="50" y="100" width="500" height="200" fill="orange" stroke="gray" opacity="0.5"></rect>
            </g>
            <g class="circles">
                <circle cx="100" cy="100" r="100" fill="green" stroke="yellow" opacity="0.2"></circle>
                <circle cx="200" cy="100" r="50" fill="#778899" stroke="blue" opacity="0.5"></circle>
                <circle cx="400" cy="200" r="150" fill="transparent" stroke="currentColor" opacity="0.8"></circle>
            </g>
            <text x="200" y="200" style="font-family: 'Segan', Arial;" font-size="20">Testing 123</text>
            <text x="200" y="220" style="font-family: 'Segan', Arial;" font-size="10">Subtitle</text>
            <rect x="50" y="50" stroke="red" fill="url(#pattern)" width="100" height="100" />
            <rect x="500" y="50" stroke="red" fill="url(#gradient)" width="50" height="50" />
            <image href="samuel-pasteur-fosse-N0OOEpR1Lpo-unsplash.jpg" alt="test" x="50" y="250" height="100"
                width="150" />
        </svg>

        <div class="buttons">
            <button onclick="exportSVG()">Export SVG</button>
            <button onclick="exportPNG()">Export PNG</button>
            <button onclick="exportJPEG()">Export JPEG</button>
            <button onclick="exportPDF()">Export PDF</button>
        </div>
        <div id="demo-canvas1"></div>
    </div>

    <script type="module">

        import { Canvg, presets } from 'https://cdn.skypack.dev/canvg@^4.0.0';

        
        

        const exporter = new SvgExport({
            canvg: Canvg,
            presets: presets,
            pdfkit: PDFDocument,
            blobStream: blobStream,
            svgToPdf: SVGtoPDF
        });
        const svg = document.getElementById('demo-svg');

        window.exportSVG = function() {
            exporter.downloadSvg(svg, 'demo', { scale: 1, useCSS: false, allowCrossOriginImages: true });
        };

        window.exportPNG = function() {
            exporter.downloadPng(svg, 'demo', { scale: 1, useCSS: false });
        };

        window.exportJPEG = function() {
            exporter.downloadJpeg(svg, 'demo', { scale: 1, useCSS: false });
        };

        window.exportPDF = function() {
            exporter.downloadPdf(svg, 'demo', { scale: 1, useCSS: false });
        };

    </script>
</body>

</html>